---
export interface Props {
  id: string;
  spec: Record<string, any>;
}
---

<div id="svvHJc"></div>
<script type="text/javascript" data-lets-plot-script="library" is:inline>
  if (!window.letsPlotCallQueue) {
    window.letsPlotCallQueue = [];
  }
  window.letsPlotCall = function (f) {
    window.letsPlotCallQueue.push(f);
  };
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src =
      "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.7.3/js-package/distr/lets-plot.min.js";
    script.onload = function () {
      window.letsPlotCall = function (f) {
        f();
      };
      window.letsPlotCallQueue.forEach(function (f) {
        f();
      });
      window.letsPlotCallQueue = [];
    };
    script.onerror = function (event) {
      window.letsPlotCall = function (f) {}; // noop
      window.letsPlotCallQueue = [];
      var div = document.createElement("div");
      div.style.color = "darkred";
      div.textContent = "Error loading Lets-Plot JS";
      document.getElementById("svvHJc").appendChild(div);
    };
    var e = document.getElementById("svvHJc");
    e.appendChild(script);
  })();
</script>
